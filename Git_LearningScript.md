## Git学习笔记
分布式版本控制系统，区别于SVN集中式版本控制系统。Git这个软件默认是安装在个人电脑上的，也就是如果你在个人电脑上安装，只能在本地进行版本控制。如果需要进行代码托管，还需要依赖GitHub或者GitLab

### git初始化管理仓库
语法：`git init`。表明执行文件夹下引入Git版本管理工具，但是并没有确定管理那些需要管理的东西

### git文件状态
语法：`git status`。可以显示，如果文件已经被Git进行管理，将会显示绿色，如果文件没有被Git进行管理或者文件被修改了，文件为红色。

### git增加管理文件
语法：`git add xxx`。使用git add指令可以将文件加入git管理，后面跟文件名。使用`git add .`指令可以将当前文件夹（没有在git ignore中配置的文集）中所有问价加入git管理。将文件提交到暂存区，提交暂存区的文件会变成绿色的

### git个人配置

如果是电脑第一次安装运行git需要进行git配置，配置用户名和邮箱等信息，如果没有进行个人配置，那么在生成版本的时候会报错（git commit）<font color='red'>只需要配置一次</font>

```
git config --global user.email 'xxxxx'
git config --global user.name 'xxxx'
```

### 增加`git commit`版本
语法：`git commit -m '描述信息'`。使用git commit可以生成一次当前文件的版本，将暂存区的代码提交到版本库。使用git status后可以查看当前git所有管理的文件状态，例如文件是否被修改(在上一个版本的基础上）。

### 查看版本的记录`git log`
语法：`git log`。使用git log可以查看当前文件的git提交日志，即所有的提交版本，版本排序是根据时间最近优先的

### git的三大区域

- 工作区（部分红色）

  正在工作的文件夹，分为两个部分：以管理文件、修改文件或新增文件，自动检测

- 暂存区（绿色）

- 版本库

### 版本回滚`git reset `

首先使用`git log`来查看版本日志，确定回滚的版本号，然后使用指令`git reset --hard 版本号`。由于回退到之前的版本之后使用`git log`无法查看到回退之后的版本信息，因此如果想再次回到之前的版本，我们需要进行`git reflog`查看日志来获取版本号

```
git reset --hard [versionnumber]
```

### 撤销更改总结

- 从工作区变动后回到变动前`git checkout -- 文件名`。会将指定的且被Git管理的文件，有改动的红色状态，变为改动之前的绿色状态。（作用相当于Crtl+Z）
- 从暂存区（git add之后）回退到变动未提交（红色工作区）`git rest HEAD 文件名称`

### 分支

代码的默认分支是master，但是如果我们在一直使用master分支的进行开发的同时还要进行线上维护将会很困难。因此Git提出了分支的概念，我们可以创建分支并通过分支之间的切换来满足不同条件下的开发。如果从master分支创建新的分支，那么新创建的分支指向当前master分支的最新版本。在新的分支上开发不会影响主分支。

- 将本地bug修复分支和开发分支合并到主分支`git merge 分支名称`。如果在合并的时候发生了冲突，说明当前分支和主分支修改了同一文件，并产生了不同的版本，开发分支指向的版本不是最新的版本，因此合并代码的时候可能会产生代码冲突问题，如果产生代码冲突问题，我们需要手动去更改冲突。
- 将本地bug修复分支和开发分支合并到主分支`git merge 分支名称`。如果在合并的时候发生了冲突，说明当前分支和主分支修改了同一文件，并产生了不同的版本，开发分支指向的版本不是最新的版本，因此合并代码的时候可能会产生代码冲突问题。
- git的工作流

### GitHub
代码管理厂库，我们可以将代码托管至该平台，然后实现异地开发。
- 将本地代码托管至Github
如下所示，其中`origin`为后面代码仓库的名称，也可以换成其他名字。`git push -u`表示默认推送分支为master，也可以省略不写手动指定分支，指定默认推送分支以后可以直接简写为`git push`
  ```
  git add remote origin 代码仓库地址
  //将master分支代码推送到远端
  git push -u origin master
  //将其他分支dev代码推送到远端
  git push origin dev
  ```

